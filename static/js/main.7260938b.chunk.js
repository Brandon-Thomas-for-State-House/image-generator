(this["webpackJsonpimage-generator"]=this["webpackJsonpimage-generator"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=(a(52),a(53),a(16)),l=a(28),s=a(11),m=a(12),d=a(13),u=a(14),h=a(17),p=a.n(h),f=a(29),g=a.n(f),v=a(10),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:null},e.handleLoad=function(){e.setState({image:e.image})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadImage(),this.applyCache()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&(this.loadImage(),this.applyCache())}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.width=this.props.width,this.image.height=this.props.height,this.image.addEventListener("load",this.handleLoad)}},{key:"applyCache",value:function(){this.imageNode.cache(),this.imageNode.getLayer().batchDraw()}},{key:"render",value:function(){var e=this;return r.a.createElement(v.Image,Object.assign({image:this.state.image,ref:function(t){e.imageNode=t}},this.props))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDownload=function(){var t=e.stageRef.getStage().toDataURL(),a="".concat(e.props.name.toLowerCase().trim().replace(" ","_"),"_endorses_brandon.png");e.downloadUri(t,a)},e.getTitleText=function(){var t=e.props,a=t.title,n=t.location;return a.length?n.length?"".concat(a,", ").concat(n):a:n},e}return Object(m.a)(a,[{key:"downloadUri",value:function(e,t){var a=window.document.createElement("a");a.download=t,a.href=e,window.document.body.appendChild(a),a.click(),window.document.body.removeChild(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.reason,o=t.profile;return r.a.createElement("div",{className:g.a.component},r.a.createElement("div",{className:g.a.title},"Preview"),r.a.createElement(v.Stage,{width:400,height:400,ref:function(t){e.stageRef=t}},r.a.createElement(v.Layer,null,r.a.createElement(v.Rect,{width:400,height:400,fill:"#20a8df"})),r.a.createElement(v.Layer,null,r.a.createElement(v.Circle,{x:75,y:75,mask:!0,radius:50,fill:"green"}),r.a.createElement(w,{stroke:"white",strokeWidth:5,width:75,height:75,src:o})),r.a.createElement(v.Layer,null,r.a.createElement(v.Text,{x:20,y:50,fontFamily:"'Open Sans'",text:this.getTitleText()}),r.a.createElement(v.Text,{x:20,y:150,fontFamily:"'End'",fontSize:30,fontWeight:700,width:340,text:"".concat(a," endorses Brandon Thomas for State House 49")}),r.a.createElement(v.Text,{x:20,y:200,fontFamily:"'Open Sans'",text:n}))),this.stageRef&&r.a.createElement("div",{onClick:this.handleDownload},"Download"))}}]),a}(r.a.Component),E=a(134),_=a(43),b=a.n(_),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleTextChange=function(t){var a=t.target.value;e.props.onChange(a)},e.handleDrop=function(t,a){console.log(a),e.props.onChange(a[0])},e.renderImageLoader=function(){return r.a.createElement(b.a,{withIcon:!0,buttonText:"Choose images",onChange:e.handleDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})},e.renderTextField=function(){var t=e.props,a=t.config,n=t.value;return r.a.createElement(E.a,{multiline:a.multiline,rows:a.multiline?4:1,fullWidth:!0,variant:"outlined",value:n,label:a.label,onChange:e.handleTextChange})},e}return Object(m.a)(a,[{key:"renderPicker",value:function(){switch(this.props.config.type){case"text":return this.renderTextField();case"image":return this.renderImageLoader();default:throw new Error('Config is not working because "type '.concat(this.props.config.type,'"" does not exist'))}}},{key:"render",value:function(){return this.renderPicker()}}]),a}(r.a.Component),k={name:{required:!0,type:"text",label:"Name"},title:{required:!0,type:"text",label:"Title"},location:{type:"text",label:"Location"},reason:{multiline:!0,type:"text",label:"Reason for Support"},profile:{type:"image",label:"image "}},O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:Object.keys(k).reduce((function(e,t){return Object(l.a)({},e,Object(c.a)({},t,t))}),{})},e.handleFormChange=function(t){return function(a){e.setState((function(e){return{form:Object(l.a)({},e.form,Object(c.a)({},t,a))}}))}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.form;return r.a.createElement("div",{className:p.a.component},r.a.createElement("div",{className:p.a.fields},Object.keys(t).map((function(a){return r.a.createElement("div",{key:a,className:p.a.field},r.a.createElement(x,{config:k[a],value:t[a],onChange:e.handleFormChange(a)}))}))),r.a.createElement("div",{className:p.a.preview},r.a.createElement(y,t)))}}]),a}(r.a.Component),j=a(30),C=a.n(j);function T(){return r.a.createElement("div",{className:C.a.component},r.a.createElement("div",{className:C.a.accent}))}var N=a(15),L=a.n(N);function I(){return r.a.createElement("div",{className:L.a.component},r.a.createElement("div",{className:L.a.case},r.a.createElement("div",{className:L.a.title},"We endorse ",r.a.createElement("span",{className:L.a.candidate},"Brandon Thomas")," "),r.a.createElement("div",{className:L.a.tagline},"(generator)")))}var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement(O,null),r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,t,a){e.exports={component:"Title_component__13OnF",case:"Title_case__20oQI",title:"Title_title__1jlrO",candidate:"Title_candidate__8WGwV",tagline:"Title_tagline__3p9DK"}},17:function(e,t,a){e.exports={component:"Editor_component__19dB7",fields:"Editor_fields__1pTs_",preview:"Editor_preview__1urAQ",field:"Editor_field__1VJIA"}},29:function(e,t,a){e.exports={title:"Preview_title__unOsw"}},30:function(e,t,a){e.exports={component:"Background_component__4-zPE",accent:"Background_accent__3tWwQ"}},48:function(e,t,a){e.exports=a(106)},52:function(e,t,a){},53:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.7260938b.chunk.js.map