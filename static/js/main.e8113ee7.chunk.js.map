{"version":3,"sources":["components/Preview/components/UrlImage/UrlImage.js","components/Preview/Preview.js","lib/differ.js","lib/cropper.js","components/ImagePicker/ImagePicker.js","components/Field/Field.js","components/Editor/components/DownloadButton/DownloadButton.js","lib/config.js","components/Editor/Editor.js","components/Background/Background.js","components/Title/Title.js","components/Footer/Footer.js","components/Analytics/Analytics.js","App.js","serviceWorker.js","theme.js","index.js","components/Preview/Preview.module.css","components/Title/Title.module.css","components/Editor/Editor.module.css","components/ImagePicker/ImagePicker.module.css","components/Editor/components/DownloadButton/DownloadButton.module.css","components/Background/Background.module.css","components/Footer/Footer.module.css","components/Preview/brandon.png"],"names":["EXCLUDED_PROPS","UrlImage","state","image","handleLoad","setState","filteredProps","Object","keys","props","filter","f","includes","reduce","sum","el","this","loadImage","applyCache","oldProps","src","removeEventListener","window","Image","addEventListener","ref","node","imageNode","Component","REASON_FONT_SIZES","numLine","fontSize","length","Preview","loaded","titleOffsetX","reasonFontSize","resizingReason","size","getTitleText","title","location","hasTitle","renderTitle","titleRef","fontFamily","align","padding","fill","styles","white","text","renderFloatingTitle","x","y","width","offsetX","red","renderInlineTitle","renderProfilePicture","profile","height","brandon","clipFunc","circleClip","renderMetaData","name","fontWeight","darkBlue","renderReason","reason","find","reasonRef","lineHeight","Math","max","min","renderPreview","onSetStageRef","className","scale","renderFooter","document","fonts","ready","then","bind","screen","prevProps","prevState","objA","objB","isPropDiff","propName","setTimeout","forceUpdate","ctx","arc","PI","empty","highlight","component","renderEmpty","React","createImage","url","Promise","resolve","reject","error","setAttribute","getRadianAngle","degreeValue","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","createElement","getContext","maxSize","safeArea","sqrt","translate","rotate","drawImage","data","getImageData","putImageData","round","toDataURL","ImagePicker","droppedUrl","crop","zoom","onCropChange","onZoomChange","handleDrop","_","dataUrls","handleDelete","undefined","onChange","onCropComplete","croppedAreaPixels","isNaN","cropper","croppedUrl","renderImageLoader","withIcon","singleImage","maxFileSize","uploader","label","buttonText","imgExtension","renderCropper","aspect","cropShape","showGrid","Slider","slider","value","step","aria-labelledby","e","z","button","onClick","Field","handleInputChange","evt","target","handleCheckboxChange","checked","config","renderRadio","FormControl","RadioGroup","row","aria-label","options","map","option","FormControlLabel","key","control","Radio","renderTextField","remainingCharacters","maxLength","helperText","TextField","multiline","rows","fullWidth","variant","inputProps","Checkbox","type","renderCheckbox","Error","renderPicker","DownloadButton","getDataUrl","stageRef","getStage","pixelRatio","handleDownload","dataUrl","fileName","toLowerCase","trim","replace","goToUri","trackDownload","trackingData","ReactGA","event","category","action","JSON","stringify","uri","link","download","_blank","href","body","appendChild","click","removeChild","disclaimer","CONFIGS","required","REQUIRED_KEYS","k","Editor","form","m","defaultValue","handleFormChange","hasRequired","every","handleSetStageRef","style","field","canCampaignUse","role","preview","fields","renderField","buildTrackingData","Background","accent","Title","case","candidate","tagline","links","Footer","l","i","Link","GoogleAnalytics","initialize","pageview","pathname","search","App","self","top","inIframe","Boolean","hostname","match","createMuiTheme","palette","primary","main","light","secondary","ReactDOM","render","StrictMode","ThemeProvider","theme","getElementById","navigator","serviceWorker","registration","unregister","catch","console","message","module","exports"],"mappings":"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","file":"static/js/main.e8113ee7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Image } from \"react-konva\";\n\nconst EXCLUDED_PROPS = [\"src\"];\nexport class UrlImage extends Component {\n  state = {\n    image: null\n  };\n  componentDidMount() {\n    this.loadImage();\n    this.applyCache();\n  }\n  componentDidUpdate(oldProps) {\n    if (oldProps.src !== this.props.src) {\n      this.loadImage();\n      this.applyCache();\n    }\n  }\n  componentWillUnmount() {\n    this.image.removeEventListener(\"load\", this.handleLoad);\n  }\n  loadImage() {\n    // save to \"this\" to remove \"load\" handler on unmount\n    this.image = new window.Image();\n    this.image.src = this.props.src;\n    this.image.addEventListener(\"load\", this.handleLoad);\n  }\n  applyCache() {\n    // this.imageNode.cache();\n    // this.imageNode.getLayer().batchDraw();\n  }\n  handleLoad = () => {\n    this.setState({\n      image: this.image\n    });\n  };\n\n  filteredProps = () => {\n    return Object.keys(this.props)\n      .filter(f => !EXCLUDED_PROPS.includes(f))\n      .reduce((sum, el) => ({ ...sum, [el]: this.props[el] }), {});\n  };\n\n  render() {\n    return (\n      <Image\n        image={this.state.image}\n        ref={node => {\n          this.imageNode = node;\n        }}\n        {...this.filteredProps()}\n      />\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport styles from \"./Preview.module.css\";\nimport {\n  Stage,\n  Layer,\n  Text,\n  Rect,\n  Group,\n  Circle,\n  Label,\n  Tag\n} from \"react-konva\";\nimport { UrlImage } from \"./components/UrlImage/UrlImage.js\";\nimport differ from \"../../lib/differ.js\";\nimport brandon from \"./brandon.png\";\n\nconst REASON_FONT_SIZES = [\n  { numLine: 1, fontSize: 54, length: 10 },\n  { numLine: 1, fontSize: 38, length: 13 },\n  { numLine: 1, fontSize: 32, length: 27 },\n  { numLine: 2, fontSize: 26, length: 38 },\n  { numLine: 3, fontSize: 22, length: 60 },\n  { numLine: 3, fontSize: 18, length: 90 },\n  { numLine: 4, fontSize: 17, length: 100 },\n  { numLine: 4, fontSize: 15, length: 150 },\n  { numLine: 4, fontSize: 13.5, length: 200 },\n  { numLine: 5, fontSize: 12, length: 250 },\n  { numLine: 5, fontSize: 10.8, length: 301 }\n];\n\ntype Props = {\n  name: string,\n  title: string,\n  location: string,\n  reason: string,\n  profile: string,\n  hasRequired: boolean,\n  onSetStageRef: (typeof Stage) => void\n};\n\ntype State = {\n  loaded: boolean,\n  titleOffsetX: number,\n  reasonFontSize: number,\n  resizingReason: boolean,\n  size: number\n};\n\nexport default class Preview extends React.Component<Props, State> {\n  state = {\n    loaded: false,\n    titleOffsetX: 0,\n    reasonFontSize: 16,\n    resizingReason: false,\n    size: 400\n  };\n\n  reasonRef: typeof Text;\n  titleRef: typeof Text;\n\n  componentDidMount() {\n    window.document.fonts.ready.then(\n      function() {\n        this.setState({ loaded: true });\n      }.bind(this)\n    );\n\n    this.setState(({ size }) => {\n      return { size: Math.min(size, window.screen.width - 60) };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const isPropDiff = differ(this.props, prevProps);\n\n    // If title is added\n    if (isPropDiff(\"title\") || (isPropDiff(\"location\") && !!this.titleRef)) {\n      this.setState({\n        titleOffsetX: this.titleRef ? this.titleRef.width() : 0\n      });\n    }\n\n    if (isPropDiff(\"reason\")) setTimeout(() => this.forceUpdate(), 1);\n  }\n  circleClip(ctx: any) {\n    ctx.arc(330, 70, 50, 0, Math.PI * 2, false);\n  }\n\n  getTitleText = () => {\n    const { title, location } = this.props;\n    return !(title && title.length)\n      ? location\n      : !!(location && location.length)\n      ? `${title}, ${location}`\n      : title;\n  };\n\n  hasTitle = () => {\n    return !!(this.props.title || this.props.location);\n  };\n\n  renderTitle = () => {\n    const titleText = this.getTitleText();\n    return (\n      !!titleText && (\n        <Text\n          ref={node => (this.titleRef = node)}\n          fontFamily=\"'Barlow Condensed'\"\n          align=\"right\"\n          fontSize={16}\n          padding={3}\n          fill={styles.white}\n          text={this.getTitleText()}\n        />\n      )\n    );\n  };\n\n  renderFloatingTitle = () => {\n    const { titleOffsetX } = this.state;\n\n    return (\n      this.hasTitle && (\n        <Label x={380} y={110} width={360} offsetX={titleOffsetX} align=\"right\">\n          <Tag fill={styles.red} />\n          {this.renderTitle()}\n        </Label>\n      )\n    );\n  };\n\n  renderInlineTitle = () => {\n    return (\n      this.hasTitle && (\n        <Label x={20} y={52} align=\"right\">\n          <Tag fill={styles.red} />\n          {this.renderTitle()}\n        </Label>\n      )\n    );\n  };\n  renderProfilePicture = () => {\n    const { profile } = this.props;\n    return (\n      <Layer>\n        <UrlImage x={0} y={240} width={400} height={142} src={brandon} />\n\n        {!!profile && (\n          <>\n            <Circle\n              x={330}\n              y={70}\n              width={110}\n              fill={styles.white}\n              height={110}\n            />\n            <Group clipFunc={this.circleClip}>\n              <UrlImage x={280} y={20} width={100} height={100} src={profile} />\n            </Group>\n            {this.renderFloatingTitle()}\n          </>\n        )}\n      </Layer>\n    );\n  };\n\n  renderMetaData = () => {\n    const { profile, name } = this.props;\n\n    return (\n      <Layer>\n        <Text\n          x={20}\n          y={20}\n          fontFamily=\"'Barlow Condensed'\"\n          fontSize={30}\n          fontWeight={700}\n          width={340}\n          fill={styles.white}\n          text={name}\n        />\n        {!!profile ? (\n          <Group>\n            <Text\n              x={20}\n              y={50}\n              fontFamily=\"'Barlow Condensed'\"\n              fontSize={30}\n              fontWeight={700}\n              width={340}\n              fill={styles.darkBlue}\n              text=\"endorses\"\n            />\n            <Text\n              x={20}\n              y={80}\n              fontFamily=\"'Barlow Condensed'\"\n              fontSize={30}\n              fontWeight={700}\n              width={340}\n              fill={styles.darkBlue}\n              text=\"Brandon Thomas\"\n            />\n          </Group>\n        ) : (\n          <Group>\n            {this.hasTitle() && this.renderInlineTitle()}\n            <Text\n              x={20}\n              y={this.hasTitle() ? 75 : 50}\n              fontFamily=\"'Barlow Condensed'\"\n              fontSize={30}\n              fontWeight={700}\n              width={340}\n              fill={styles.darkBlue}\n              text=\"endorses Brandon Thomas\"\n            />\n          </Group>\n        )}\n      </Layer>\n    );\n  };\n\n  renderReason = () => {\n    const { reason, profile } = this.props;\n    if (!reason) return null;\n    const { fontSize } =\n      REASON_FONT_SIZES.find(size => size.length > reason.length) || {};\n    return (\n      <Layer>\n        <Group y={!!profile ? 130 : 120}>\n          <Group x={25} y={5} width={340}>\n            <Text\n              ref={node => {\n                this.reasonRef = node;\n              }}\n              padding={10}\n              fontSize={fontSize}\n              lineHeight={1.4}\n              fontWeight={100}\n              width={360}\n              fill={styles.darkBlue}\n              fontFamily=\"'Open Sans'\"\n              text={reason}\n            />\n          </Group>\n          <Text\n            x={15}\n            y={0}\n            fontSize={50}\n            fontWeight={100}\n            fill={styles.darkBlue}\n            fontFamily=\"'Open Sans'\"\n            text=\"“\"\n          />\n          <Text\n            x={this.reasonRef ? Math.max(this.reasonRef.width() - 5, 95) : 30}\n            y={this.reasonRef ? Math.min(this.reasonRef.height() - 5, 90) : 30}\n            fontSize={50}\n            fontWeight={100}\n            fill={styles.darkBlue}\n            fontFamily=\"'Open Sans'\"\n            text=\"”\"\n          />\n        </Group>\n      </Layer>\n    );\n  };\n  renderFooter() {\n    return (\n      <Layer>\n        <Text\n          x={0}\n          y={385}\n          fontFamily=\"'Barlow Condensed'\"\n          fontSize={12}\n          fontWeight={700}\n          width={400}\n          align=\"center\"\n          fill={styles.darkBlue}\n          text=\"votebrandonthomas.com/endorse\"\n        />\n      </Layer>\n    );\n  }\n  renderPreview = () => {\n    const { size } = this.state;\n    const { onSetStageRef } = this.props;\n    return (\n      <div>\n        <div className={styles.title}>Preview</div>\n        <Stage\n          width={size}\n          height={size}\n          scale={{ x: size / 400, y: size / 400 }}\n          ref={onSetStageRef}\n        >\n          <Layer>\n            <Rect width={400} height={400} fill=\"#5FBCE5\" />\n          </Layer>\n          {this.renderProfilePicture()}\n          {this.renderMetaData()}\n          {this.renderReason()}\n          {this.renderFooter()}\n        </Stage>\n      </div>\n    );\n  };\n\n  renderEmpty() {\n    return (\n      <div className={styles.empty}>\n        Enter a name, reason, and photo for why{\" \"}\n        <span className={styles.highlight}>you</span> support Brandon to\n        generate a sharable image!\n      </div>\n    );\n  }\n  render() {\n    const { name } = this.props;\n    const { loaded } = this.state;\n\n    return (\n      <div className={styles.component}>\n        {loaded && name ? this.renderPreview() : this.renderEmpty()}\n      </div>\n    );\n  }\n}\n","export default (objA: {}, objB: {}) => (propName: string) =>\n  objA[propName] !== objB[propName];\n","const createImage = url =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener(\"load\", () => resolve(image));\n    image.addEventListener(\"error\", error => reject(error));\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  });\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const maxSize = Math.max(image.width, image.height);\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  canvas.width = safeArea;\n  canvas.height = safeArea;\n\n  // translate canvas context to a central location on image to allow rotating around the center.\n  ctx.translate(safeArea / 2, safeArea / 2);\n  ctx.rotate(getRadianAngle(rotation));\n  ctx.translate(-safeArea / 2, -safeArea / 2);\n\n  // draw rotated image and store data.\n  ctx.drawImage(\n    image,\n    safeArea / 2 - image.width * 0.5,\n    safeArea / 2 - image.height * 0.5\n  );\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n  // set canvas width to final desired crop size - this will clear existing context\n  canvas.width = pixelCrop.width;\n  canvas.height = pixelCrop.height;\n\n  // paste generated rotate image with correct offsets for x,y crop values.\n  ctx.putImageData(\n    data,\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\n  );\n\n  // As Base64 string\n  return canvas.toDataURL(\"image/jpeg\");\n}\n","// @flow\nimport React, { Component } from \"react\";\nimport styles from \"./ImagePicker.module.css\";\nimport ImageUploader from \"react-images-upload\";\nimport Cropper from \"react-easy-crop\";\nimport cropper from \"../../lib/cropper.js\";\nimport Slider from \"@material-ui/core/Slider\";\n\ntype Props = {\n  onChange: string => void,\n  value: string,\n  label: string\n};\n\ntype State = {\n  droppedUrl: string,\n  zoom: number,\n  crop: { x: number, y: number }\n};\n\nexport default class ImagePicker extends Component<Props, State> {\n  state = {\n    droppedUrl: \"\",\n    crop: { x: 0, y: 0 },\n    zoom: 1\n  };\n\n  onCropChange = (crop: { x: number, y: number }) => {\n    this.setState({ crop });\n  };\n\n  onZoomChange = (zoom: number) => {\n    this.setState({ zoom });\n  };\n\n  handleDrop = (_: {}[], dataUrls: string[]) => {\n    const droppedUrl = dataUrls[0];\n    this.setState({ droppedUrl });\n  };\n\n  handleDelete = () => {\n    this.setState({ droppedUrl: undefined });\n    this.props.onChange(\"\");\n  };\n\n  onCropComplete = async (_: any, croppedAreaPixels: any) => {\n    const { droppedUrl } = this.state;\n    if (!isNaN(croppedAreaPixels.width)) {\n      const croppedUrl = await cropper(droppedUrl, croppedAreaPixels);\n      this.props.onChange(croppedUrl);\n    }\n  };\n\n  renderImageLoader = () => {\n    return (\n      <ImageUploader\n        withIcon\n        singleImage\n        maxFileSize={5242880 * 2}\n        className={styles.uploader}\n        label=\"< 10Mb jpg, gif, png\"\n        buttonText=\"Choose picture of endorser (thats you!)\"\n        onChange={this.handleDrop}\n        imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\"]}\n      />\n    );\n  };\n\n  renderCropper = () => {\n    const { crop, zoom, droppedUrl } = this.state;\n    return (\n      <div>\n        <div className={styles.cropper}>\n          <Cropper\n            image={droppedUrl}\n            crop={crop}\n            zoom={zoom}\n            aspect={1}\n            cropShape=\"round\"\n            showGrid={false}\n            onCropChange={this.onCropChange}\n            onCropComplete={this.onCropComplete}\n            onZoomChange={this.onZoomChange}\n          />\n        </div>\n        <Slider\n          className={styles.slider}\n          value={zoom}\n          min={1}\n          max={3}\n          step={0.05}\n          aria-labelledby=\"Zoom\"\n          onChange={(e, z) => this.onZoomChange(z)}\n        />\n        <div className={styles.button} onClick={this.handleDelete}>\n          Remove or Change Image\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { droppedUrl } = this.state;\n    return (\n      <div>{droppedUrl ? this.renderCropper() : this.renderImageLoader()}</div>\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ImagePicker from \"../ImagePicker/ImagePicker.js\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n// TODO: Sep each types configs\ntype Config = {\n  required: boolean,\n  type: \"text\" | \"image\",\n  label: string,\n  multiline: string,\n  helperText: string,\n  options: [],\n  maxLength: number\n};\n\ntype Props = {\n  config: Config,\n  value: string,\n  onChange: string => void\n};\n\nexport default class Field extends React.Component<Props> {\n  handleInputChange = (evt: SyntheticInputEvent<HTMLInputElement>) => {\n    const value = evt.target.value;\n    this.props.onChange(value);\n  };\n\n  handleCheckboxChange = (evt: SyntheticInputEvent<HTMLInputElement>) => {\n    const value = evt.target.checked;\n    this.props.onChange(value);\n  };\n\n  renderImageLoader = () => {\n    const { config, value, onChange } = this.props;\n\n    return (\n      <ImagePicker onChange={onChange} value={value} label={config.label} />\n    );\n  };\n\n  renderRadio = () => {\n    const { config, value } = this.props;\n\n    return (\n      <FormControl component=\"fieldset\">\n        <RadioGroup\n          row\n          aria-label={config.label}\n          name={config.label}\n          value={value}\n          onChange={this.handleInputChange}\n        >\n          {config.options.map(option => (\n            <FormControlLabel\n              key={option}\n              value={option}\n              control={<Radio />}\n              label={option}\n            />\n          ))}\n        </RadioGroup>\n      </FormControl>\n    );\n  };\n  renderTextField = () => {\n    const { config, value } = this.props;\n    const remainingCharacters = value\n      ? config.maxLength - value.length\n      : config.maxLength;\n    const helperText =\n      config.maxLength && remainingCharacters < 10\n        ? `Character's Remaining: ${remainingCharacters}`\n        : config.helperText;\n    return (\n      <TextField\n        error={config.maxLength && remainingCharacters < 10}\n        multiline={config.multiline}\n        rows={config.multiline ? 4 : 1}\n        fullWidth\n        variant=\"outlined\"\n        value={value}\n        label={config.label}\n        helperText={helperText}\n        onChange={this.handleInputChange}\n        inputProps={{ maxLength: config.maxLength, \"aria-label\": config.label }}\n      />\n    );\n  };\n\n  renderCheckbox() {\n    const { config, value } = this.props;\n\n    return (\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={value}\n            onChange={this.handleCheckboxChange}\n            name={config.label}\n          />\n        }\n        aria-label={config.label}\n        label={config.label}\n      />\n    );\n  }\n\n  renderPicker() {\n    switch (this.props.config.type) {\n      case \"text\":\n        return this.renderTextField();\n      case \"image\":\n        return this.renderImageLoader();\n      case \"radio\":\n        return this.renderRadio();\n      case \"checkbox\":\n        return this.renderCheckbox();\n      default:\n        throw new Error(\n          `Config is not working because \"type ${this.props.config.type}\"\" does not exist`\n        );\n    }\n  }\n  render() {\n    return this.renderPicker();\n  }\n}\n","import React, { Component } from \"react\";\nimport { Stage } from \"react-konva\";\nimport styles from \"./DownloadButton.module.css\";\nimport ReactGA from \"react-ga\";\n\ntype Props = {\n  stageRef: typeof Stage,\n  name: string,\n  trackData: any\n};\nexport default class DownloadButton extends Component<Props> {\n  getDataUrl = () => {\n    return this.props.stageRef.getStage().toDataURL({ pixelRatio: 3 });\n  };\n\n  handleDownload = () => {\n    const dataUrl = this.getDataUrl();\n    const fileName = `${this.props.name\n      .toLowerCase()\n      .trim()\n      .replace(\" \", \"_\")}_endorses_brandon.png`;\n    this.goToUri(dataUrl, { fileName });\n    this.trackDownload();\n  };\n\n  goToUri(uri: string, config: { fileName?: string, _blank?: boolean }) {\n    const link = window.document.createElement(\"a\");\n    if (config.fileName) link.download = config.fileName;\n    if (config._blank) link._blank = config._blank;\n    link.href = uri;\n    window.document.body.appendChild(link);\n    link.click();\n    window.document.body.removeChild(link);\n  }\n\n  trackDownload = () => {\n    const isGAEnabled = process.env.NODE_ENV === \"production\";\n    const { trackingData } = this.props;\n\n    if (isGAEnabled) {\n      ReactGA.event({\n        category: \"Download\",\n        action: \"Download PNG\",\n        label: JSON.stringify(trackingData)\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <button\n          name=\"download\"\n          className={styles.button}\n          onClick={this.handleDownload}\n        >\n          Download\n        </button>\n        <div className={styles.disclaimer}>(when you are finished)</div>\n      </div>\n    );\n  }\n}\n","export type Config = {\n  type: string,\n  label: string,\n  required?: boolean,\n  multiline?: boolean,\n  maxlength?: number,\n  helperText?: string\n};\n\nexport const CONFIGS: { [key: string]: Config } = {\n  name: {\n    required: true,\n    type: \"text\",\n    label: \"Your name\"\n  },\n  reason: {\n    multiline: true,\n    type: \"text\",\n    label: \"Reason for support\",\n    maxLength: 300,\n    helperText: \"Why do you support Brandon? Specificity is better!\"\n  },\n  profile: {\n    type: \"image\",\n    label: \"Endorser Photo\"\n  },\n  title: {\n    type: \"text\",\n    label: \"Title\",\n    helperText: \"i.e. Teacher, Parent, Voter\"\n  },\n  location: {\n    type: \"text\",\n    label: \"Location\",\n    helperText: \"i.e. Murfreesboro, LaVergne Lake Elementary\"\n  }\n  // canCampaignUse: {\n  //   type: \"checkbox\",\n  //   label: \"Send to campaign for use in promotional materials.\",\n  //   defaultValue: true\n  // }\n};\n\nexport const REQUIRED_KEYS = Object.keys(CONFIGS).filter(\n  k => !!CONFIGS[k].required\n);\n","// @flow\nimport React from \"react\";\nimport style from \"./Editor.module.css\";\nimport Preview from \"../Preview/Preview.js\";\nimport Field from \"../Field/Field.js\";\nimport DownloadButton from \"./components/DownloadButton/DownloadButton.js\";\nimport { Stage } from \"react-konva\";\nimport { CONFIGS, REQUIRED_KEYS } from \"../../lib/config.js\";\nimport { type Config } from \"../../lib/config.js\";\ntype Props = {};\n\nexport type Form = {\n  name: string,\n  title: string,\n  location: string,\n  reason: string,\n  profile: string,\n  canCampaignUse: string\n};\n\ntype State = {\n  form: Form\n};\n\nexport default class Editor extends React.Component<Props, State> {\n  stageRef: typeof Stage;\n\n  state = {\n    form: Object.keys(CONFIGS).reduce(\n      (m, k: string) => ({ ...m, [k]: CONFIGS[k].defaultValue }),\n      {}\n    )\n  };\n\n  handleFormChange = (name: string): (string => void) => (value: string) => {\n    this.setState(state => ({\n      form: {\n        ...state.form,\n        [name]: value\n      }\n    }));\n  };\n\n  hasRequired = () => {\n    return REQUIRED_KEYS.every(k => !!this.state.form[k]);\n  };\n\n  handleSetStageRef = (node: typeof Stage) => {\n    this.stageRef = node;\n  };\n\n  renderField(config: Config, value: any, onChange: any => void, key: string) {\n    return (\n      <div key={key} className={style.field}>\n        <Field config={config} value={value} onChange={onChange} />\n      </div>\n    );\n  }\n\n  buildTrackingData(form: Form) {\n    return form && form.canCampaignUse\n      ? form\n      : Object.keys(form).reduce(\n          (m, k) => ({ ...m, [k]: (form[k] || \"\").length }),\n          {}\n        );\n  }\n\n  render() {\n    const { form } = this.state;\n\n    return (\n      <main role=\"main\" className={style.component}>\n        <div className={style.preview}>\n          <Preview\n            onSetStageRef={this.handleSetStageRef}\n            hasRequired={this.hasRequired()}\n            {...form}\n          />\n        </div>\n        <div className={style.fields}>\n          {Object.keys(form).map(k =>\n            this.renderField(CONFIGS[k], form[k], this.handleFormChange(k), k)\n          )}\n          {this.stageRef && (\n            <DownloadButton\n              name={form.name}\n              stageRef={this.stageRef}\n              trackingData={this.buildTrackingData(form)}\n            />\n          )}\n        </div>\n      </main>\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Background.module.css\";\n\nexport default function Background() {\n  return (\n    <div className={style.component}>\n      <div className={style.accent} />\n    </div>\n  );\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Title.module.css\";\n\nexport default function Title() {\n  return (\n    <header role=\"banner\" className={style.component}>\n      <div className={style.case}>\n        <div className={style.title}>\n          We endorse <span className={style.candidate}>Brandon Thomas</span>{\" \"}\n        </div>\n        <div className={style.tagline}>(generator)</div>\n      </div>\n    </header>\n  );\n}\n","// @flow\nimport React from \"react\";\nimport styles from \"./Footer.module.css\";\nimport Link from \"@material-ui/core/Link\";\n\nconst links = [\n  {\n    href: \"https://secure.actblue.com/donate/thomas49/endorsement-generator\",\n    label: \"Contribute\"\n  },\n  {\n    href:\n      \"https://www.mobilize.us/votebrandonthomas/?utm_source=endorsement-generator\",\n    label: \"Volunteer\"\n  },\n  {\n    href: \"https://votebrandonthomas.com/?utm_source=endorsement-generator\",\n    label: \"votebrandonthomas.com\"\n  },\n  {\n    href: \"mailto:kevinahuber@gmail.com\",\n    label: \"Feedback\"\n  },\n  {\n    href: \"https://kevinahuber.com\",\n    label: \"Made with ❤️ by Kevin Huber\"\n  }\n];\nexport default function Footer() {\n  return (\n    <footer className={styles.component}>\n      {links.map((l, i) => (\n        <Link key={i} href={l.href} className={styles.link}>\n          {l.label}\n        </Link>\n      ))}\n    </footer>\n  );\n}\n","// @flow\nimport { Component } from \"react\";\nimport ReactGA from \"react-ga\";\n\ntype Props = {\n  location: {\n    pathname: string,\n    search: string\n  },\n  options: any\n};\n\nexport default class GoogleAnalytics extends Component<Props> {\n  componentDidMount() {\n    const isGAEnabled = process.env.NODE_ENV === \"production\";\n\n    if (isGAEnabled) {\n      ReactGA.initialize(\"UA-178512622-2\");\n      ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Editor from \"./components/Editor/Editor\";\nimport Background from \"./components/Background/Background\";\nimport Title from \"./components/Title/Title\";\nimport Footer from \"./components/Footer/Footer\";\nimport GoogleAnalytics from \"./components/Analytics/Analytics\";\n\nclass App extends React.Component {\n  state = {};\n  inIframe() {\n    try {\n      return window.self !== window.top;\n    } catch (e) {\n      return true;\n    }\n  }\n\n  componentDidMount() {\n    const inIframe = this.inIframe();\n    this.setState({ inIframe });\n  }\n\n  render() {\n    const { inIframe } = this.state;\n    return (\n      <div className=\"App\">\n        {!inIframe && <GoogleAnalytics />}\n        {!inIframe && <Title />}\n        <Editor />\n        <Background />\n        {!inIframe && <Footer />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#354e98\",\n      light: \"#354e98\",\n      text: \"#354e98\"\n    },\n    secondary: {\n      main: \"#354e98\"\n    }\n  }\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport theme from \"./theme.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white\":\"#f2f0f1\",\"lightBlue\":\"#37acdf\",\"darkBlue\":\"#354e98\",\"red\":\"#b13539\",\"title\":\"Preview_title__unOsw\",\"button\":\"Preview_button__1xPFi\",\"empty\":\"Preview_empty__IZW5l\",\"disclaimer\":\"Preview_disclaimer__3t1i7\",\"highlight\":\"Preview_highlight__3JzAg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Title_component__13OnF\",\"title\":\"Title_title__1jlrO\",\"candidate\":\"Title_candidate__8WGwV\",\"tagline\":\"Title_tagline__3p9DK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Editor_component__19dB7\",\"fields\":\"Editor_fields__1pTs_\",\"preview\":\"Editor_preview__1urAQ\",\"field\":\"Editor_field__1VJIA\",\"hint\":\"Editor_hint__1JkXw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cropper\":\"ImagePicker_cropper__Op_bh\",\"button\":\"ImagePicker_button__1Bcrq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"disclaimer\":\"DownloadButton_disclaimer__3sEHp\",\"button\":\"DownloadButton_button__ammlh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Background_component__4-zPE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Footer_component__3T3DJ\",\"link\":\"Footer_link__Xabb2\"};","module.exports = __webpack_public_path__ + \"static/media/brandon.4b929c6f.png\";"],"sourceRoot":""}