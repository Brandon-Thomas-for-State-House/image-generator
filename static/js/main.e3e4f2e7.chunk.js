(this["webpackJsonpimage-generator"]=this["webpackJsonpimage-generator"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),l=(n(97),n(98),n(33)),c=n(44),u=n(23),s=n(24),d=n(25),f=n(27),h=n(47),m=n.n(h),p=n(20),g=n.n(p),v=n(13),y=["src"],w=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:null},e.handleLoad=function(){e.setState({image:e.image})},e.filteredProps=function(){return Object.keys(e.props).filter((function(e){return!y.includes(e)})).reduce((function(t,n){return Object(c.a)({},t,Object(l.a)({},n,e.props[n]))}),{})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadImage(),this.applyCache()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&(this.loadImage(),this.applyCache())}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.addEventListener("load",this.handleLoad)}},{key:"applyCache",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(v.Image,Object.assign({image:this.state.image,ref:function(t){e.imageNode=t}},this.filteredProps()))}}]),n}(a.Component),E=n(82),x=n.n(E),b=[{numLine:1,fontSize:54,length:10},{numLine:1,fontSize:38,length:13},{numLine:1,fontSize:32,length:27},{numLine:2,fontSize:26,length:38},{numLine:3,fontSize:22,length:60},{numLine:3,fontSize:18,length:90},{numLine:4,fontSize:17,length:100},{numLine:4,fontSize:15,length:150},{numLine:4,fontSize:13.5,length:200},{numLine:5,fontSize:12,length:250},{numLine:5,fontSize:10.8,length:301}],C=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1,titleOffsetX:0,reasonFontSize:16,resizingReason:!1,size:400},e.getDataUrl=function(){return e.stageRef.getStage().toDataURL({pixelRatio:3})},e.handleDownload=function(){var t=e.getDataUrl(),n="".concat(e.props.name.toLowerCase().trim().replace(" ","_"),"_endorses_brandon.png");e.downloadUri(t,n)},e.handleShare=function(){},e.getTitleText=function(){var t=e.props,n=t.title,a=t.location;return n&&n.length?a&&a.length?"".concat(n,", ").concat(a):n:a},e.hasTitle=function(){return e.props.title||e.props.location},e.renderTitle=function(){return!!e.getTitleText()&&r.a.createElement(v.Text,{ref:function(t){return e.titleRef=t},fontFamily:"'Barlow Condensed'",align:"right",fontSize:16,padding:3,fill:g.a.white,text:e.getTitleText()})},e.renderFloatingTitle=function(){var t=e.state.titleOffsetX;return r.a.createElement(v.Label,{x:380,y:110,width:360,offsetX:t,align:"right"},r.a.createElement(v.Tag,{fill:g.a.red}),e.renderTitle())},e.renderInlineTitle=function(){return r.a.createElement(v.Label,{x:20,y:50,align:"right"},r.a.createElement(v.Tag,{fill:g.a.red}),e.renderTitle())},e.renderProfilePicture=function(){var t=e.props.profile;return r.a.createElement(v.Layer,null,r.a.createElement(w,{x:0,y:240,width:400,height:142,src:x.a}),!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.Circle,{x:330,y:70,width:110,fill:g.a.white,height:110}),r.a.createElement(v.Group,{clipFunc:e.circleClip},r.a.createElement(w,{x:280,y:20,width:100,height:100,src:t})),e.renderFloatingTitle()))},e.renderMetaData=function(){var t=e.props,n=t.plural,a=t.profile,o=t.name;return r.a.createElement(v.Layer,null,r.a.createElement(v.Text,{x:20,y:20,fontFamily:"'Barlow Condensed'",fontSize:30,fontWeight:700,width:340,fill:g.a.white,text:o}),a?r.a.createElement(v.Group,null,r.a.createElement(v.Text,{x:20,y:50,fontFamily:"'Barlow Condensed'",fontSize:30,fontWeight:700,width:340,fill:g.a.darkBlue,text:n}),r.a.createElement(v.Text,{x:20,y:80,fontFamily:"'Barlow Condensed'",fontSize:30,fontWeight:700,width:340,fill:g.a.darkBlue,text:"Brandon Thomas"})):r.a.createElement(v.Group,null,e.hasTitle()&&e.renderInlineTitle(),r.a.createElement(v.Text,{x:20,y:e.hasTitle()?75:50,fontFamily:"'Barlow Condensed'",fontSize:30,fontWeight:700,width:340,fill:g.a.darkBlue,text:"".concat(n," Brandon Thomas")})))},e.renderReason=function(){var t=e.props,n=t.reason,a=t.profile;if(!n)return null;var o=(b.find((function(e){return e.length>n.length}))||{}).fontSize;return r.a.createElement(v.Layer,null,r.a.createElement(v.Group,{y:a?130:120},r.a.createElement(v.Label,{x:25,y:5,width:340},r.a.createElement(v.Text,{ref:function(t){e.reasonRef=t},padding:10,fontSize:o,lineHeight:1.4,width:360,fontWeight:100,fill:g.a.darkBlue,fontFamily:"'Open Sans'",text:n})),r.a.createElement(v.Text,{x:15,y:0,fontSize:50,fontWeight:100,fill:g.a.darkBlue,fontFamily:"'Open Sans'",text:"\u201c"})))},e.renderPreview=function(){var t=e.state.size;return r.a.createElement("div",null,r.a.createElement("div",{className:g.a.title},"Preview"),r.a.createElement(v.Stage,{width:t,height:t,scale:{x:t/400,y:t/400},ref:function(t){e.stageRef=t}},r.a.createElement(v.Layer,null,r.a.createElement(v.Rect,{width:400,height:400,fill:"#5FBCE5"})),e.renderProfilePicture(),e.renderMetaData(),e.renderReason(),e.renderFooter()),e.stageRef&&r.a.createElement("div",{className:g.a.button,onClick:e.handleDownload},"Download"))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.document.fonts.ready.then(function(){this.setState({loaded:!0})}.bind(this)),this.setState((function(e){var t=e.size;return{size:Math.min(t,window.screen.width-30)}}))}},{key:"componentDidUpdate",value:function(e,t){var n,a,r=(n=this.props,a=e,function(e){return n[e]!==a[e]});(r("title")||r("location")&&this.titleRef)&&this.setState({titleOffsetX:this.titleRef?this.titleRef.width():0})}},{key:"downloadUri",value:function(e,t){var n=window.document.createElement("a");n.download=t,n.href=e,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n)}},{key:"circleClip",value:function(e){e.arc(330,70,50,0,2*Math.PI,!1)}},{key:"renderFooter",value:function(){return r.a.createElement(v.Layer,null,r.a.createElement(v.Text,{x:0,y:385,fontFamily:"'Barlow Condensed'",fontSize:12,fontWeight:700,width:400,align:"center",fill:g.a.darkBlue,text:"votebrandonthomas.com/endorse"}))}},{key:"renderEmpty",value:function(){return r.a.createElement("div",{className:g.a.empty},"Enter a name, reason, and photo for why"," ",r.a.createElement("span",{className:g.a.highlight},"you")," support Brandon to generate a sharable image!")}},{key:"render",value:function(){var e=this.props.name,t=this.state.loaded;return r.a.createElement("div",{className:g.a.component},t&&e?this.renderPreview():this.renderEmpty())}}]),n}(r.a.Component),_=n(190),k=n(40),T=n.n(k),O=n(51),L=n(59),S=n.n(L),j=n(83),z=n.n(j),B=n(86),I=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function F(e){return e*Math.PI/180}function P(e,t){return R.apply(this,arguments)}function R(){return(R=Object(O.a)(T.a.mark((function e(t,n){var a,r,o,i,l,c,u,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:0,e.next=3,I(t);case 3:return r=e.sent,o=document.createElement("canvas"),i=o.getContext("2d"),l=Math.max(r.width,r.height),c=l/2*Math.sqrt(2)*2,o.width=c,o.height=c,i.translate(c/2,c/2),i.rotate(F(a)),i.translate(-c/2,-c/2),i.drawImage(r,c/2-.5*r.width,c/2-.5*r.height),u=i.getImageData(0,0,c,c),o.width=n.width,o.height=n.height,i.putImageData(u,Math.round(0-c/2+.5*r.width-n.x),Math.round(0-c/2+.5*r.height-n.y)),e.abrupt("return",o.toDataURL("image/jpeg"));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=n(195),D=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={droppedUrl:"",crop:{x:0,y:0},zoom:1},e.onCropChange=function(t){e.setState({crop:t})},e.onZoomChange=function(t){e.setState({zoom:t})},e.handleDrop=function(t,n){var a=n[0];e.setState({droppedUrl:a})},e.handleDelete=function(){e.setState({droppedUrl:void 0}),e.props.onChange("")},e.onCropComplete=function(){var t=Object(O.a)(T.a.mark((function t(n,a){var r,o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state.droppedUrl,isNaN(a.width)){t.next=6;break}return t.next=4,P(r,a);case 4:o=t.sent,e.props.onChange(o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.renderImageLoader=function(){return r.a.createElement(z.a,{withIcon:!0,singleImage:!0,buttonText:"Picture of Endorser (thats you!)",onChange:e.handleDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})},e.renderCropper=function(){var t=e.state,n=t.crop,a=t.zoom,o=t.droppedUrl;return r.a.createElement("div",null,r.a.createElement("div",{className:S.a.cropper},r.a.createElement(B.a,{image:o,crop:n,zoom:a,aspect:1,cropShape:"round",showGrid:!1,onCropChange:e.onCropChange,onCropComplete:e.onCropComplete,onZoomChange:e.onZoomChange})),r.a.createElement(N.a,{className:S.a.slider,value:a,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(t,n){return e.onZoomChange(n)}}),r.a.createElement("div",{className:S.a.button,onClick:e.handleDelete},"Remove or Change Image"))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.droppedUrl;return r.a.createElement("div",null,e?this.renderCropper():this.renderImageLoader())}}]),n}(a.Component),W=n(191),U=n(192),M=n(194),A=n(193),q=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleTextChange=function(t){var n=t.target.value;e.props.onChange(n)},e.handleRadioChange=function(t){var n=t.target.value;e.props.onChange(n)},e.renderImageLoader=function(){return r.a.createElement(D,{onChange:e.props.onChange})},e.renderRadio=function(){var t=e.props,n=t.config,a=t.value;return r.a.createElement(A.a,{component:"fieldset"},r.a.createElement(U.a,{row:!0,"aria-label":n.label,name:n.label,value:a,onChange:e.handleRadioChange},n.options.map((function(e){return r.a.createElement(M.a,{key:e,value:e,control:r.a.createElement(W.a,null),label:e})}))))},e.renderTextField=function(){var t=e.props,n=t.config,a=t.value,o=a?n.maxLength-a.length:n.maxLength,i=n.maxLength&&o<10?"Character's Remaining: ".concat(o):n.helperText;return r.a.createElement(_.a,{error:n.maxLength&&o<10,multiline:n.multiline,rows:n.multiline?4:1,fullWidth:!0,variant:"outlined",value:a,label:n.label,helperText:i,onChange:e.handleTextChange,inputProps:{maxLength:n.maxLength}})},e}return Object(s.a)(n,[{key:"renderPicker",value:function(){switch(this.props.config.type){case"text":return this.renderTextField();case"image":return this.renderImageLoader();case"radio":return this.renderRadio();default:throw new Error('Config is not working because "type '.concat(this.props.config.type,'"" does not exist'))}}},{key:"render",value:function(){return this.renderPicker()}}]),n}(r.a.Component),V={name:{required:!0,type:"text",label:"Name",defaultValue:"Kevin Huber"},plural:{type:"radio",options:["endorse","endorses"],defaultValue:"endorses"},reason:{multiline:!0,type:"text",label:"Reason for Support",maxLength:300,helperText:"Why do you support Brandon? Specificity is better!"},profile:{type:"image",label:"image"},title:{type:"text",label:"Title",helperText:"i.e. Teacher, Parent, Voter"},location:{type:"text",label:"Location",helperText:"i.e. Murfreesboro, LaVergne Lake Elementary"}},G=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:Object.keys(V).reduce((function(e,t){return Object(c.a)({},e,Object(l.a)({},t,V[t].defaultValue))}),{})},e.handleFormChange=function(t){return function(n){e.setState((function(e){return{form:Object(c.a)({},e.form,Object(l.a)({},t,n))}}))}},e.hasRequired=function(){return Object.keys(V).filter((function(e){return V[e].required})).every((function(t){return!!e.state.form[t]}))},e}return Object(s.a)(n,[{key:"renderField",value:function(e,t,n,a){return r.a.createElement("div",{key:a,className:m.a.field},r.a.createElement(q,{config:e,value:t,onChange:n}))}},{key:"render",value:function(){var e=this,t=this.state.form;return r.a.createElement("div",{className:m.a.component},r.a.createElement("div",{className:m.a.fields},Object.keys(t).map((function(n){return e.renderField(V[n],t[n],e.handleFormChange(n),n)}))),r.a.createElement("div",{className:m.a.preview},r.a.createElement(C,Object.assign({hasRequired:this.hasRequired()},t))))}}]),n}(r.a.Component),Z=n(67),J=n.n(Z);function X(){return r.a.createElement("div",{className:J.a.component},r.a.createElement("div",{className:J.a.accent}))}var Q=n(43),H=n.n(Q);function K(){return r.a.createElement("div",{className:H.a.component},r.a.createElement("div",{className:H.a.case},r.a.createElement("div",{className:H.a.title},"We endorse ",r.a.createElement("span",{className:H.a.candidate},"Brandon Thomas")," "),r.a.createElement("div",{className:H.a.tagline},"(generator)")))}var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null),r.a.createElement(G,null),r.a.createElement(X,null))},Y=n(189);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=n(85),te=Object(ee.a)({palette:{primary:{main:"#ffffff",light:"#ffffff",text:"#ffffff",contrastText:"#ffffff"},secondary:{main:"#ffffff"}}});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y.a,{theme:te},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,n){e.exports={white:"#f2f0f1",lightBlue:"#37acdf",darkBlue:"#354e98",red:"#b13539",title:"Preview_title__unOsw",button:"Preview_button__1xPFi",empty:"Preview_empty__IZW5l",highlight:"Preview_highlight__3JzAg"}},43:function(e,t,n){e.exports={component:"Title_component__13OnF",case:"Title_case__20oQI",title:"Title_title__1jlrO",candidate:"Title_candidate__8WGwV",tagline:"Title_tagline__3p9DK"}},47:function(e,t,n){e.exports={component:"Editor_component__19dB7",fields:"Editor_fields__1pTs_",preview:"Editor_preview__1urAQ",field:"Editor_field__1VJIA"}},59:function(e,t,n){e.exports={cropper:"ImagePicker_cropper__Op_bh",button:"ImagePicker_button__1Bcrq"}},67:function(e,t,n){e.exports={component:"Background_component__4-zPE",accent:"Background_accent__3tWwQ"}},82:function(e,t,n){e.exports=n.p+"static/media/brandon.4b929c6f.png"},93:function(e,t,n){e.exports=n(152)},97:function(e,t,n){},98:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.e3e4f2e7.chunk.js.map