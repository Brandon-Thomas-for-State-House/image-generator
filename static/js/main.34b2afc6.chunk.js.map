{"version":3,"sources":["components/UrlImage/UrlImage.js","components/Preview/Preview.js","lib/cropper.js","components/ImagePicker/ImagePicker.js","components/Field/Field.js","components/Editor/Editor.js","components/Background/Background.js","components/Title/Title.js","App.js","serviceWorker.js","theme.js","index.js","components/Preview/Preview.module.css","components/Title/Title.module.css","components/Editor/Editor.module.css","components/ImagePicker/ImagePicker.module.css","components/Background/Background.module.css","components/Preview/brandon.png"],"names":["EXCLUDED_PROPS","UrlImage","state","image","handleLoad","setState","filteredProps","Object","keys","props","filter","f","includes","reduce","sum","el","this","loadImage","applyCache","oldProps","src","removeEventListener","window","Image","addEventListener","ref","node","imageNode","Component","Preview","loaded","handleDownload","dataUrl","stageRef","getStage","toDataURL","fileName","name","toLowerCase","trim","replace","downloadUri","getTitleText","title","location","length","renderPreview","reason","profile","className","style","width","height","fill","x","y","brandon","filters","Konva","Filters","Grayscale","fontFamily","fontSize","align","text","fontWeight","button","onClick","document","fonts","ready","then","bind","uri","link","createElement","download","href","body","appendChild","click","removeChild","empty","highlight","component","renderEmpty","React","createImage","url","Promise","resolve","reject","error","setAttribute","getRadianAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","ctx","getContext","maxSize","max","safeArea","sqrt","translate","rotate","drawImage","data","getImageData","putImageData","round","ImagePicker","droppedUrl","crop","zoom","onCropChange","onZoomChange","handleDrop","_","dataUrls","onCropComplete","croppedAreaPixels","isNaN","cropper","croppedUrl","console","log","onChange","renderImageLoader","withIcon","singleImage","buttonText","imgExtension","maxFileSize","renderCropper","aspect","showGrid","Slider","slider","value","min","step","aria-labelledby","e","z","Field","handleTextChange","evt","target","renderTextField","config","TextField","multiline","rows","fullWidth","variant","label","type","Error","renderPicker","required","Editor","form","m","k","handleFormChange","fields","map","key","field","preview","Background","accent","Title","case","candidate","tagline","App","Boolean","hostname","match","createMuiTheme","palette","primary","main","light","contrastText","secondary","ReactDOM","render","StrictMode","ThemeProvider","theme","getElementById","navigator","serviceWorker","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.34b2afc6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Image } from \"react-konva\";\n\nconst EXCLUDED_PROPS = [\"src\"];\nexport class UrlImage extends Component {\n  state = {\n    image: null\n  };\n  componentDidMount() {\n    this.loadImage();\n    this.applyCache();\n  }\n  componentDidUpdate(oldProps) {\n    if (oldProps.src !== this.props.src) {\n      this.loadImage();\n      this.applyCache();\n    }\n  }\n  componentWillUnmount() {\n    this.image.removeEventListener(\"load\", this.handleLoad);\n  }\n  loadImage() {\n    // save to \"this\" to remove \"load\" handler on unmount\n    this.image = new window.Image();\n    this.image.src = this.props.src;\n    this.image.addEventListener(\"load\", this.handleLoad);\n  }\n  applyCache() {\n    // this.imageNode.cache();\n    // this.imageNode.getLayer().batchDraw();\n  }\n  handleLoad = () => {\n    this.setState({\n      image: this.image\n    });\n  };\n\n  filteredProps = () => {\n    return Object.keys(this.props)\n      .filter(f => !EXCLUDED_PROPS.includes(f))\n      .reduce((sum, el) => ({ ...sum, [el]: this.props[el] }), {});\n  };\n\n  render() {\n    return (\n      <Image\n        image={this.state.image}\n        ref={node => {\n          this.imageNode = node;\n        }}\n        {...this.filteredProps()}\n      />\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Preview.module.css\";\nimport { Stage, Layer, Text, Rect } from \"react-konva\";\nimport { UrlImage } from \"../UrlImage/UrlImage.js\";\nimport brandon from \"./brandon.png\";\nimport Konva from \"konva\";\ntype Props = {\n  name: string,\n  title: string,\n  location: string,\n  reason: string,\n  profile: string\n};\n\ntype State = {\n  loaded: boolean\n};\n\nexport default class Preview extends React.Component<Props, State> {\n  state = {\n    loaded: false\n  };\n\n  stageRef: typeof Stage;\n\n  componentDidMount() {\n    window.document.fonts.ready.then(\n      function() {\n        this.setState({ loaded: true });\n      }.bind(this)\n    );\n  }\n\n  handleDownload = () => {\n    const dataUrl = this.stageRef.getStage().toDataURL();\n    const fileName = `${this.props.name\n      .toLowerCase()\n      .trim()\n      .replace(\" \", \"_\")}_endorses_brandon.png`;\n    this.downloadUri(dataUrl, fileName);\n  };\n\n  downloadUri(uri: string, name: string) {\n    const link = window.document.createElement(\"a\");\n    link.download = name;\n    link.href = uri;\n    window.document.body.appendChild(link);\n    link.click();\n    window.document.body.removeChild(link);\n  }\n\n  getTitleText = () => {\n    const { title, location } = this.props;\n    return !title.length\n      ? location\n      : !!location.length\n      ? `${title}, ${location}`\n      : title;\n  };\n\n  renderPreview = () => {\n    const { name, reason, profile } = this.props;\n    return (\n      <div>\n        <div className={style.title}>Preview</div>\n        <Stage\n          width={400}\n          height={400}\n          ref={node => {\n            this.stageRef = node;\n          }}\n        >\n          <Layer>\n            <Rect width={400} height={400} fill=\"#20a8df\" />\n          </Layer>\n\n          <Layer>\n            <UrlImage\n              x={0}\n              y={0}\n              width={400}\n              height={144}\n              src={brandon}\n              filters={[Konva.Filters.Grayscale]}\n            />\n\n            {!!profile && (\n              <UrlImage x={280} y={20} width={100} height={100} src={profile} />\n            )}\n          </Layer>\n          <Layer>\n            <Text\n              x={20}\n              y={105}\n              width={360}\n              fontFamily=\"'Open Sans'\"\n              fontSize={12}\n              align=\"right\"\n              fill=\"#ffffff\"\n              text={this.getTitleText()}\n            />\n\n            <Text\n              x={20}\n              y={155}\n              fontFamily=\"'Barlow Condensed'\"\n              fontSize={30}\n              fontWeight={700}\n              width={340}\n              text={`${name} endorses Brandon Thomas for State House 49`}\n            />\n            {!!reason && (\n              <Text\n                x={20}\n                y={260}\n                width={340}\n                fontSize={16}\n                fontFamily=\"'Open Sans'\"\n                text={`\"${reason}\"`}\n              />\n            )}\n          </Layer>\n        </Stage>\n        {this.stageRef && (\n          <div className={style.button} onClick={this.handleDownload}>\n            Download\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderEmpty() {\n    return (\n      <div className={style.empty}>\n        Enter a name, reason, and photo for why{\" \"}\n        <span className={style.highlight}>you</span> support Brandon to generate\n        a sharable image!\n      </div>\n    );\n  }\n  render() {\n    const { name } = this.props;\n    const { loaded } = this.state;\n\n    return (\n      <div className={style.component}>\n        {loaded && name ? this.renderPreview() : this.renderEmpty()}\n      </div>\n    );\n  }\n}\n","const createImage = url =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener(\"load\", () => resolve(image));\n    image.addEventListener(\"error\", error => reject(error));\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  });\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const maxSize = Math.max(image.width, image.height);\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  canvas.width = safeArea;\n  canvas.height = safeArea;\n\n  // translate canvas context to a central location on image to allow rotating around the center.\n  ctx.translate(safeArea / 2, safeArea / 2);\n  ctx.rotate(getRadianAngle(rotation));\n  ctx.translate(-safeArea / 2, -safeArea / 2);\n\n  // draw rotated image and store data.\n  ctx.drawImage(\n    image,\n    safeArea / 2 - image.width * 0.5,\n    safeArea / 2 - image.height * 0.5\n  );\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n  // set canvas width to final desired crop size - this will clear existing context\n  canvas.width = pixelCrop.width;\n  canvas.height = pixelCrop.height;\n\n  // paste generated rotate image with correct offsets for x,y crop values.\n  ctx.putImageData(\n    data,\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\n  );\n\n  // As Base64 string\n  return canvas.toDataURL(\"image/jpeg\");\n}\n","// @flow\nimport React, { Component } from \"react\";\nimport style from \"./ImagePicker.module.css\";\nimport ImageUploader from \"react-images-upload\";\nimport Cropper from \"react-easy-crop\";\nimport cropper from \"../../lib/cropper.js\";\nimport Slider from \"@material-ui/core/Slider\";\n\ntype Props = {\n  onChange: string => void\n};\n\ntype State = {\n  droppedUrl: string,\n  zoom: number,\n  crop: { x: number, y: number }\n};\n\nconst CROP_ON = true;\n\nexport default class ImagePicker extends Component<Props, State> {\n  state = {\n    droppedUrl: \"\",\n    crop: { x: 0, y: 0 },\n    zoom: 1\n  };\n\n  onCropChange = (crop: { x: number, y: number }) => {\n    this.setState({ crop });\n  };\n\n  onZoomChange = (zoom: number) => {\n    this.setState({ zoom });\n  };\n\n  handleDrop = (_: {}[], dataUrls: string[]) => {\n    const droppedUrl = dataUrls[0];\n    if (CROP_ON) {\n      this.setState({ droppedUrl });\n    } else {\n      this.props.onChange(droppedUrl);\n    }\n  };\n\n  onCropComplete = async (_: any, croppedAreaPixels: any) => {\n    const { droppedUrl } = this.state;\n    if (!isNaN(croppedAreaPixels.width)) {\n      const croppedUrl = await cropper(droppedUrl, croppedAreaPixels);\n      console.log(croppedUrl);\n      this.props.onChange(croppedUrl);\n    }\n  };\n\n  renderImageLoader = () => {\n    return (\n      <ImageUploader\n        withIcon\n        singleImage\n        buttonText=\"Picture of Endorsee (thats you!)\"\n        onChange={this.handleDrop}\n        imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\"]}\n        maxFileSize={5242880}\n      />\n    );\n  };\n\n  renderCropper = () => {\n    const { crop, zoom, droppedUrl } = this.state;\n    return (\n      <div>\n        <div className={style.cropper}>\n          <Cropper\n            image={droppedUrl}\n            crop={crop}\n            zoom={zoom}\n            aspect={1}\n            showGrid={false}\n            onCropChange={this.onCropChange}\n            onCropComplete={this.onCropComplete}\n            onZoomChange={this.onZoomChange}\n          />\n        </div>\n        <Slider\n          className={style.slider}\n          value={zoom}\n          min={1}\n          max={3}\n          step={0.1}\n          aria-labelledby=\"Zoom\"\n          onChange={(e, z) => this.onZoomChange(z)}\n        />\n      </div>\n    );\n  };\n\n  render() {\n    const { droppedUrl } = this.state;\n    return (\n      <div>\n        {this.renderImageLoader()}\n        {droppedUrl && this.renderCropper()}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ImagePicker from \"../ImagePicker/ImagePicker.js\";\n\ntype Config = {\n  required: boolean,\n  type: \"text\" | \"image\",\n  label: string,\n  multiline: string\n};\n\ntype Props = {\n  config: Config,\n  value: string,\n  onChange: string => void\n};\n\nexport default class Field extends React.Component<Props> {\n  handleTextChange = (evt: SyntheticInputEvent<HTMLInputElement>) => {\n    const value = evt.target.value;\n    this.props.onChange(value);\n  };\n\n  renderImageLoader = () => {\n    return <ImagePicker onChange={this.props.onChange} />;\n  };\n\n  renderTextField = () => {\n    const { config, value } = this.props;\n\n    return (\n      <TextField\n        multiline={config.multiline}\n        rows={config.multiline ? 4 : 1}\n        fullWidth\n        variant=\"outlined\"\n        value={value}\n        label={config.label}\n        onChange={this.handleTextChange}\n      />\n    );\n  };\n\n  renderPicker() {\n    switch (this.props.config.type) {\n      case \"text\":\n        return this.renderTextField();\n      case \"image\":\n        return this.renderImageLoader();\n      default:\n        throw new Error(\n          `Config is not working because \"type ${this.props.config.type}\"\" does not exist`\n        );\n    }\n  }\n  render() {\n    return this.renderPicker();\n  }\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Editor.module.css\";\nimport Preview from \"../Preview/Preview.js\";\nimport Field from \"../Field/Field.js\";\n\ntype Props = {};\n\nconst config = {\n  name: {\n    required: true,\n    type: \"text\",\n    label: \"Name\"\n  },\n  reason: {\n    multiline: true,\n    type: \"text\",\n    label: \"Reason for Support\"\n  },\n  profile: {\n    type: \"image\",\n    label: \"image \"\n  },\n  title: {\n    required: true,\n    type: \"text\",\n    label: \"Title\"\n  },\n  location: {\n    type: \"text\",\n    label: \"Location\"\n  }\n};\n\nexport type Form = {};\n\ntype State = {\n  form: Form\n};\n\nexport default class Editor extends React.Component<Props, State> {\n  state = {\n    form: Object.keys(config).reduce((m, k: string) => ({ ...m, [k]: \"\" }), {})\n  };\n\n  handleFormChange = (name: string): (string => void) => (value: string) => {\n    this.setState(state => ({\n      form: {\n        ...state.form,\n        [name]: value\n      }\n    }));\n  };\n\n  render() {\n    const { form } = this.state;\n\n    return (\n      <div className={style.component}>\n        <div className={style.fields}>\n          {Object.keys(form).map(k => (\n            <div key={k} className={style.field}>\n              <Field\n                config={config[k]}\n                value={form[k]}\n                onChange={this.handleFormChange(k)}\n              />\n            </div>\n          ))}\n        </div>\n        <div className={style.preview}>\n          <Preview {...form} />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Background.module.css\";\n\nexport default function Background() {\n  return (\n    <div className={style.component}>\n      <div className={style.accent} />\n    </div>\n  );\n}\n","// @flow\nimport React from \"react\";\nimport style from \"./Title.module.css\";\n\nexport default function Title() {\n  return (\n    <div className={style.component}>\n      <div className={style.case}>\n        <div className={style.title}>\n          We endorse <span className={style.candidate}>Brandon Thomas</span>{\" \"}\n        </div>\n        <div className={style.tagline}>(generator)</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Editor from \"./components/Editor/Editor\";\nimport Background from \"./components/Background/Background\";\nimport Title from \"./components/Title/Title\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Title />\n      <Editor />\n      <Background />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#ffffff\",\n      light: \"#ffffff\",\n      text: \"#ffffff\",\n      contrastText: \"#ffffff\"\n    },\n    secondary: {\n      main: \"#ffffff\"\n    }\n  }\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport theme from \"./theme.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Preview_title__unOsw\",\"button\":\"Preview_button__1xPFi\",\"empty\":\"Preview_empty__IZW5l\",\"highlight\":\"Preview_highlight__3JzAg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Title_component__13OnF\",\"case\":\"Title_case__20oQI\",\"title\":\"Title_title__1jlrO\",\"candidate\":\"Title_candidate__8WGwV\",\"tagline\":\"Title_tagline__3p9DK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Editor_component__19dB7\",\"fields\":\"Editor_fields__1pTs_\",\"preview\":\"Editor_preview__1urAQ\",\"field\":\"Editor_field__1VJIA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cropper\":\"ImagePicker_cropper__Op_bh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"Background_component__4-zPE\",\"accent\":\"Background_accent__3tWwQ\"};","module.exports = __webpack_public_path__ + \"static/media/brandon.4b929c6f.png\";"],"sourceRoot":""}