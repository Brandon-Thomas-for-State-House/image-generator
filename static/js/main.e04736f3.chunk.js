(this["webpackJsonpimage-generator"]=this["webpackJsonpimage-generator"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),i=n.n(r),c=(n(52),n(53),n(15)),l=n(17),s=n(11),d=n(12),u=n(13),m=n(14),h=n(18),p=n.n(h),f=n(22),g=n.n(f),v=n(10),w=["src"],y=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={image:null},e.handleLoad=function(){e.setState({image:e.image})},e.filteredProps=function(){return Object.keys(e.props).filter((function(e){return!w.includes(e)})).reduce((function(t,n){return Object(l.a)({},t,Object(c.a)({},n,e.props[n]))}),{})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadImage(),this.applyCache()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&(this.loadImage(),this.applyCache())}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.width=this.props.width,this.image.height=this.props.height,this.image.addEventListener("load",this.handleLoad)}},{key:"applyCache",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(v.Image,Object.assign({image:this.state.image,ref:function(t){e.imageNode=t}},this.filteredProps()))}}]),n}(a.Component),E=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1},e.handleDownload=function(){var t=e.stageRef.getStage().toDataURL(),n="".concat(e.props.name.toLowerCase().trim().replace(" ","_"),"_endorses_brandon.png");e.downloadUri(t,n)},e.getTitleText=function(){var t=e.props,n=t.title,a=t.location;return n.length?a.length?"".concat(n,", ").concat(a):n:a},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.document.fonts.ready.then(function(){this.setState({loaded:!0})}.bind(this))}},{key:"downloadUri",value:function(e,t){var n=window.document.createElement("a");n.download=t,n.href=e,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.reason,r=t.profile,i=this.state.loaded;return o.a.createElement("div",{className:g.a.component},o.a.createElement("div",{className:g.a.title},"Preview"),i&&o.a.createElement(v.Stage,{width:400,height:400,ref:function(t){e.stageRef=t}},o.a.createElement(v.Layer,null,o.a.createElement(v.Rect,{width:400,height:400,fill:"#20a8df"})),o.a.createElement(v.Layer,null,o.a.createElement(y,{stroke:"white",strokeWidth:5,x:20,y:20,width:75,height:75,src:r})),o.a.createElement(v.Layer,null,o.a.createElement(v.Text,{x:20,y:105,fontFamily:"'Open Sans'",fontSize:12,text:this.getTitleText()}),o.a.createElement(v.Text,{x:20,y:150,fontFamily:"'Barlow Condensed'",fontSize:30,fontWeight:700,width:340,text:"".concat(n," endorses Brandon Thomas for State House 49")}),o.a.createElement(v.Text,{x:20,y:260,fontSize:16,fontFamily:"'Open Sans'",text:a}))),this.stageRef&&o.a.createElement("div",{className:g.a.button,onClick:this.handleDownload},"download"))}}]),n}(o.a.Component),b=n(134),_=n(43),x=n.n(_),O=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleTextChange=function(t){var n=t.target.value;e.props.onChange(n)},e.handleDrop=function(t,n){e.props.onChange(n[0])},e.renderImageLoader=function(){return o.a.createElement(x.a,{withIcon:!0,singleImage:!0,buttonText:"Picture of Endorsee (thats you!)",onChange:e.handleDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})},e.renderTextField=function(){var t=e.props,n=t.config,a=t.value;return o.a.createElement(b.a,{multiline:n.multiline,rows:n.multiline?4:1,fullWidth:!0,variant:"outlined",value:a,label:n.label,onChange:e.handleTextChange})},e}return Object(d.a)(n,[{key:"renderPicker",value:function(){switch(this.props.config.type){case"text":return this.renderTextField();case"image":return this.renderImageLoader();default:throw new Error('Config is not working because "type '.concat(this.props.config.type,'"" does not exist'))}}},{key:"render",value:function(){return this.renderPicker()}}]),n}(o.a.Component),k={name:{required:!0,type:"text",label:"Name"},title:{required:!0,type:"text",label:"Title"},location:{type:"text",label:"Location"},reason:{multiline:!0,type:"text",label:"Reason for Support"},profile:{type:"image",label:"image "}},j=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={form:Object.keys(k).reduce((function(e,t){return Object(l.a)({},e,Object(c.a)({},t,t))}),{})},e.handleFormChange=function(t){return function(n){e.setState((function(e){return{form:Object(l.a)({},e.form,Object(c.a)({},t,n))}}))}},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.form;return o.a.createElement("div",{className:p.a.component},o.a.createElement("div",{className:p.a.fields},Object.keys(t).map((function(n){return o.a.createElement("div",{key:n,className:p.a.field},o.a.createElement(O,{config:k[n],value:t[n],onChange:e.handleFormChange(n)}))}))),o.a.createElement("div",{className:p.a.preview},o.a.createElement(E,t)))}}]),n}(o.a.Component),C=n(30),T=n.n(C);function N(){return o.a.createElement("div",{className:T.a.component},o.a.createElement("div",{className:T.a.accent}))}var S=n(16),L=n.n(S);function I(){return o.a.createElement("div",{className:L.a.component},o.a.createElement("div",{className:L.a.case},o.a.createElement("div",{className:L.a.title},"We endorse ",o.a.createElement("span",{className:L.a.candidate},"Brandon Thomas")," "),o.a.createElement("div",{className:L.a.tagline},"(generator)")))}var F=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(I,null),o.a.createElement(j,null),o.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,n){e.exports={component:"Title_component__13OnF",case:"Title_case__20oQI",title:"Title_title__1jlrO",candidate:"Title_candidate__8WGwV",tagline:"Title_tagline__3p9DK"}},18:function(e,t,n){e.exports={component:"Editor_component__19dB7",fields:"Editor_fields__1pTs_",preview:"Editor_preview__1urAQ",field:"Editor_field__1VJIA"}},22:function(e,t,n){e.exports={title:"Preview_title__unOsw",button:"Preview_button__1xPFi"}},30:function(e,t,n){e.exports={component:"Background_component__4-zPE",accent:"Background_accent__3tWwQ"}},48:function(e,t,n){e.exports=n(106)},52:function(e,t,n){},53:function(e,t,n){}},[[48,1,2]]]);
//# sourceMappingURL=main.e04736f3.chunk.js.map